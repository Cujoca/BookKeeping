@(txns: scala.collection.mutable.HashSet[model.domain.objects.Transaction])

@main("Transactions - BookKeeper") {
  <section class="section-header">
    <h2>Transactions</h2>
    <a class="btn" href="@routes.TransactionsController.add()">Add Transaction</a>
  </section>
  <table id="transactionsTable" class="table display" style="width:100%">
    <thead>
      <tr>
          <th>Date</th>
          <th>Name</th>
          <th>Description</th>
          <th>From</th>
          <th>To</th>
          <th>Type</th>
          <th>ID</th>
          <th class="right">Amount</th>
      </tr>
    </thead>
      <script>
          function goToView(id) {window.location.href = "/transactions/view/" + id;}
      </script>
    <tbody>
      @txns.map { t =>
        <tr onclick="goToView(@t.getDBID)" style="cursor: pointer;">
        <td>@t.getDate</td>
        <td>@t.getName</td>
        <td>@t.getDesc</td>
        <td>@t.getFromAcc</td>
        <td>@t.getToAcc</td>
        <td>@t.getTxnType</td>
        <td>@t.getID</td>
        <td>@t.getAmount</td>
        </tr>
      }
    </tbody>
  </table>
  <script type="text/javascript">
    $(document).ready(function() {
      $('#transactionsTable').DataTable({
        order: [[0, 'desc']],
        pageLength: 25,
        lengthMenu: [10, 25, 50, 100],
        columnDefs: [
          { targets: 7, className: 'right' }
        ]
      });
    });
  </script>
}
